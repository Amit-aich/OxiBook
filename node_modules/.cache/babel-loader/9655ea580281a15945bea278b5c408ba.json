{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amita\\\\Desktop\\\\oxibook\\\\src\\\\components\\\\RegisterScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport BookContext from '../context/content/BookContext';\nimport logo from \"./elements/logo.png\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst RegisterScreen = () => {\n  _s();\n\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [cpass, setCpass] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [type, setType] = useState(\"\");\n  const navigate = useNavigate();\n  const context = useContext(BookContext);\n  const {\n    setshows,\n    getall,\n    getuser\n  } = context;\n\n  const submitHandler = async e => {\n    e.preventDefault();\n\n    if (number.length !== 10) {\n      setMsg(\"Invalid mobile number!\");\n      setType(\"red\");\n    } else if (cpass !== pass) {\n      setMsg(\"Password did not match!\");\n      setType(\"red\");\n    } else {\n      setMsg(\"Registered Successfully!\");\n      setType(\"green\");\n      const response = await fetch(`http://localhost:8000/api/user/createuser`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: name,\n          email: email,\n          password: pass,\n          number: number,\n          address: address\n        })\n      });\n      const json = await response.json();\n\n      if (json.success) {\n        localStorage.setItem('authtoken', json.authtoken);\n        setshows(false);\n        await getall();\n        await getuser();\n        navigate('/');\n      } else {\n        alert(json.message); // console.log(json,data.name,data.email,data.password);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"registerContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"registerDescContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Welcome to explore the widest variety of books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"registerFormContainer\",\n        style: true,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `messageBox ${type}`,\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"registerForm\",\n          onSubmit: submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: name,\n            onChange: e => setName(e.target.value),\n            placeholder: \"Full Name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            placeholder: \"email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: pass,\n            onChange: e => setPass(e.target.value),\n            placeholder: \"password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: cpass,\n            onChange: e => setCpass(e.target.value),\n            placeholder: \"confirm password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: number,\n            onChange: e => setNumber(e.target.value),\n            placeholder: \"mobile number\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            cols: \"30\",\n            rows: \"10\",\n            value: address,\n            onChange: e => setAddress(e.target.value),\n            placeholder: \"Address\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"submitButton\",\n            type: \"submit\",\n            value: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(RegisterScreen, \"uGynn9gK+fiFT0ruxGeWZnWCk1k=\", false, function () {\n  return [useNavigate];\n});\n\n_c = RegisterScreen;\nexport default RegisterScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterScreen\");","map":{"version":3,"names":["React","useState","useContext","BookContext","logo","useNavigate","RegisterScreen","name","setName","email","setEmail","pass","setPass","cpass","setCpass","number","setNumber","address","setAddress","msg","setMsg","type","setType","navigate","context","setshows","getall","getuser","submitHandler","e","preventDefault","length","response","fetch","method","headers","body","JSON","stringify","password","json","success","localStorage","setItem","authtoken","alert","message","target","value"],"sources":["C:/Users/amita/Desktop/oxibook/src/components/RegisterScreen.js"],"sourcesContent":["import React,{useState,useContext} from 'react'\r\nimport BookContext from '../context/content/BookContext'\r\nimport logo from \"./elements/logo.png\"\r\nimport {useNavigate} from \"react-router-dom\"\r\nconst RegisterScreen = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [pass, setPass] = useState(\"\");\r\n  const [cpass, setCpass] = useState(\"\");\r\n  const [number, setNumber] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [type, setType] = useState(\"\")\r\n  const navigate = useNavigate();\r\n  const  context=useContext(BookContext);\r\n  const {setshows,getall,getuser}=context;\r\n  const submitHandler = async(e) => {\r\n    e.preventDefault();\r\n\r\n    if (number.length !== 10) {\r\n        setMsg(\"Invalid mobile number!\");\r\n        setType(\"red\")\r\n    }\r\n    else if (cpass !== pass) {\r\n        setMsg(\"Password did not match!\");\r\n        setType(\"red\")    \r\n    } \r\n\r\n    else {\r\n        setMsg(\"Registered Successfully!\");\r\n        setType(\"green\")\r\n    \r\n    const response=await fetch (`http://localhost:8000/api/user/createuser`,{\r\n   method: 'POST',\r\n   headers:{\r\n     'Content-Type': 'application/json',\r\n   },\r\n   body: JSON.stringify({name: name,email:email,password:pass,number:number,address:address})\r\n});\r\nconst json=await response.json();\r\nif(json.success)\r\n{\r\n  localStorage.setItem('authtoken',json.authtoken);\r\n  setshows(false);\r\n  await getall();\r\n  await getuser();\r\n  navigate('/');\r\n  \r\n}\r\nelse{\r\n  alert(json.message);\r\n  // console.log(json,data.name,data.email,data.password);\r\n}\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"registerContainer\">\r\n        <section className=\"registerDescContainer\">\r\n          <h1>Welcome to explore the widest variety of books</h1>\r\n          <img src={logo} alt=\"logo\" />\r\n        </section>\r\n\r\n        <section className=\"registerFormContainer\" style>\r\n          <div className={`messageBox ${type}`}>{msg}</div>\r\n          <form className=\"registerForm\" onSubmit={submitHandler}>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              placeholder=\"Full Name\"\r\n              required\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              placeholder=\"email\"\r\n              required\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              value={pass}\r\n              onChange={(e) => setPass(e.target.value)}\r\n              placeholder=\"password\"\r\n              required\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              value={cpass}\r\n              onChange={(e) => setCpass(e.target.value)}\r\n              placeholder=\"confirm password\"\r\n              required\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              value={number}\r\n              onChange={(e) => setNumber(e.target.value)}\r\n              placeholder=\"mobile number\"\r\n              required\r\n            />\r\n            <textarea\r\n              cols=\"30\"\r\n              rows=\"10\"\r\n              value={address}\r\n              onChange={(e) => setAddress(e.target.value)}\r\n              placeholder=\"Address\"\r\n              required\r\n            />\r\n            <input className=\"submitButton\" type=\"submit\" value=\"Register\" />\r\n          </form>\r\n        </section>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}